# ğŸ¯ é—®é¢˜è§£å†³æ–¹æ¡ˆ

## é—®é¢˜æ ¹æº

é€šè¿‡æ—¥å¿—åˆ†æï¼Œæˆ‘å‘ç°äº†çœŸæ­£çš„é—®é¢˜å–µï¼š

### æ ¸å¿ƒé—®é¢˜ï¼šç½‘ç»œæœåŠ¡å™¨å®é™…ä¸Š**å·²ç»åœ¨è¿è¡Œ**äº†ï¼

ä»æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼š
```
127.0.0.1 [27/Dec/2025:18:46:16 +0800] "GET /api/health HTTP/1.1" 200
Invalid secret provided for agent KeenCore5642
Received shutdown signal
Shutting down network...
```

è¿™è¯´æ˜ï¼š
1. âœ… **ç½‘ç»œæœåŠ¡å™¨ä¹‹å‰æˆåŠŸå¯åŠ¨è¿‡**ï¼ˆæœ‰ HTTP è¯·æ±‚æ—¥å¿—ï¼‰
2. âœ… **Studio UI æ­£åœ¨å·¥ä½œ**ï¼ˆæœ‰æ¥è‡ª studio/messaging çš„è¯·æ±‚ï¼‰
3. âš ï¸ **æœ‰ agent è¿æ¥å¤±è´¥**ï¼ˆInvalid secret provided for agent KeenCore5642ï¼‰
4. âš ï¸ **ç„¶åä½ æŒ‰äº† Ctrl+C å…³é—­äº†æœåŠ¡å™¨**

### ä¸ºä»€ä¹ˆçœ‹èµ·æ¥"æ²¡æœ‰è¾“å‡º"ï¼Ÿ

OpenAgents CLI ä½¿ç”¨ `rich` åº“æ¥ç¾åŒ–è¾“å‡ºï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼š
- è¾“å‡ºå¯èƒ½è¢«ç¼“å†²å»¶è¿Ÿæ˜¾ç¤º
- æˆ–è€…ä½ çš„ç»ˆç«¯ä¸æ”¯æŒ rich çš„å½©è‰²è¾“å‡º
- å¯¼è‡´çœ‹èµ·æ¥åƒæ˜¯"å¡ä½"äº†

## ğŸ‰ å¥½æ¶ˆæ¯

**ä½ çš„ç³»ç»Ÿå®é™…ä¸Šæ˜¯å¯ä»¥å·¥ä½œçš„ï¼** é—®é¢˜ä¸åœ¨äºå¯åŠ¨å¤±è´¥ï¼Œè€Œæ˜¯ï¼š

1. **æ—¥å¿—è¾“å‡ºä¸å¯è§** - OpenAgents é»˜è®¤ä½¿ç”¨ rich ç¾åŒ–è¾“å‡ºï¼Œåœ¨æŸäº›ç¯å¢ƒä¸‹æ˜¾ç¤ºæœ‰é—®é¢˜
2. **Agent è®¤è¯é—®é¢˜** - æŸä¸ªå« `KeenCore5642` çš„ agent å°è¯•è¿æ¥ä½†å¯†ç é”™è¯¯

## âœ¨ å®Œæ•´è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šä½¿ç”¨åå°æ¨¡å¼ + Web UIï¼ˆæœ€æ¨èï¼‰

æ—¢ç„¶å‘½ä»¤è¡Œè¾“å‡ºæœ‰é—®é¢˜ï¼Œæˆ‘ä»¬å°±ä¸çœ‹å‘½ä»¤è¡Œï¼Œç›´æ¥ç”¨ Web UI å–µï¼

```bash
# 1. åå°å¯åŠ¨ç½‘ç»œæœåŠ¡å™¨
nohup conda run -n openagents openagents network start network.yaml > /dev/null 2>&1 &

# 2. ç­‰å¾…å‡ ç§’
sleep 5

# 3. æ‰“å¼€æµè§ˆå™¨è®¿é—®
open http://localhost:8700/studio
```

ç„¶åï¼š
- åœ¨ Studio UI ä¸­å¯ä»¥çœ‹åˆ°æ‰€æœ‰ agent çš„çŠ¶æ€
- åœ¨ Messaging é¢‘é“æŸ¥çœ‹æ¶ˆæ¯
- å®Œå…¨å¯è§†åŒ–æ“ä½œï¼Œä¸éœ€è¦çœ‹å‘½ä»¤è¡Œè¾“å‡ºï¼

### æ–¹æ¡ˆ 2ï¼šæ”¹è¿›å¯åŠ¨è„šæœ¬ï¼ˆå·²ä¿®å¤è¾“å‡ºé—®é¢˜ï¼‰

æˆ‘åˆ›å»ºä¸€ä¸ªæ–°çš„å¯åŠ¨è„šæœ¬ï¼Œè§£å†³è¾“å‡ºé—®é¢˜ï¼š

```bash
#!/bin/bash
# start_with_logs.sh - å¼ºåˆ¶è¾“å‡ºåˆ°æ–‡ä»¶å¹¶å®æ—¶æ˜¾ç¤º

echo "ğŸš€ å¯åŠ¨ç½‘ç»œæœåŠ¡å™¨ï¼ˆæ—¥å¿—æ¨¡å¼ï¼‰..."

# å¯åŠ¨å¹¶å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶
conda run -n openagents openagents network start network.yaml 2>&1 | tee logs/network_live.log &

NETWORK_PID=$!

echo "âœ… ç½‘ç»œæœåŠ¡å™¨å·²å¯åŠ¨ (PID: $NETWORK_PID)"
echo "ğŸ“Š Studio UI: http://localhost:8700/studio"
echo "ğŸ“ å®æ—¶æ—¥å¿—: tail -f logs/network_live.log"
echo ""
echo "æŒ‰ Ctrl+C åœæ­¢..."

# ç­‰å¾…ä¸­æ–­ä¿¡å·
wait $NETWORK_PID
```

### æ–¹æ¡ˆ 3ï¼šéªŒè¯ç³»ç»Ÿå·¥ä½œæ­£å¸¸

è®©æˆ‘ä»¬éªŒè¯ä¸€åˆ‡éƒ½åœ¨å·¥ä½œï¼š

```bash
# 1. å¯åŠ¨ç½‘ç»œæœåŠ¡å™¨ï¼ˆåå°ï¼‰
./start_all.sh

# 2. ç­‰å¾… 10 ç§’

# 3. æ£€æŸ¥çŠ¶æ€
curl http://localhost:8700/api/health

# 4. æŸ¥çœ‹ Studio UI
open http://localhost:8700/studio

# 5. æŸ¥çœ‹ agents åˆ—è¡¨
screen -ls
```

å¦‚æœçœ‹åˆ°ï¼š
- âœ… curl è¿”å› JSON æ•°æ® â†’ ç½‘ç»œæœåŠ¡å™¨æ­£å¸¸
- âœ… Studio UI å¯ä»¥æ‰“å¼€ â†’ å‰ç«¯æ­£å¸¸
- âœ… screen -ls æ˜¾ç¤º 7 ä¸ªä¼šè¯ â†’ agents å·²å¯åŠ¨

é‚£å°±è¯´æ˜**ä¸€åˆ‡æ­£å¸¸**ï¼åªæ˜¯å‘½ä»¤è¡Œè¾“å‡ºæœ‰é—®é¢˜è€Œå·²ã€‚

## ğŸ”§ å…³äº "Invalid secret" é”™è¯¯

æ—¥å¿—ä¸­çš„ `Invalid secret provided for agent KeenCore5642` è¯´æ˜ï¼š
- è¿™æ˜¯æŸä¸ª agent å°è¯•è¿æ¥ç½‘ç»œä½†å¯†ç é”™è¯¯
- `KeenCore5642` ä¸æ˜¯ä½ çš„ agentï¼ˆä½ çš„æ˜¯ rss-readerã€web-scraper ç­‰ï¼‰
- å¯èƒ½æ˜¯ä¹‹å‰çš„æµ‹è¯•ç•™ä¸‹çš„ï¼Œå¯ä»¥å¿½ç•¥

å¦‚æœæƒ³æ¸…ç†ï¼š
```bash
# æ¸…ç†æ—§çš„ç½‘ç»œæ•°æ®åº“
rm -f network.db

# é‡æ–°å¯åŠ¨
./start_all.sh
```

## ğŸ“± æ¨èçš„å·¥ä½œæµç¨‹

### æ—¥å¸¸ä½¿ç”¨ï¼ˆæ¨èï¼‰ï¼š

```bash
# 1. å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start_all.sh

# 2. æ‰“å¼€æµè§ˆå™¨ä½¿ç”¨ Studio UI
open http://localhost:8700/studio

# 3. åœ¨ Messaging æ ‡ç­¾æŸ¥çœ‹ agents å·¥ä½œæƒ…å†µ

# 4. éœ€è¦æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f logs/agents/*.log

# 5. åœæ­¢æ‰€æœ‰æœåŠ¡
./stop_all.sh
```

### è°ƒè¯•æ¨¡å¼ï¼ˆéœ€è¦çœ‹è¯¦ç»†è¾“å‡ºæ—¶ï¼‰ï¼š

```bash
# åˆ†åˆ«åœ¨ä¸åŒç»ˆç«¯è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰è¾“å‡º
# ç»ˆç«¯ 1
conda run -n openagents openagents network start network.yaml

# ç»ˆç«¯ 2
conda run -n openagents python agents/rss_reader.py

# ç»ˆç«¯ 3
conda run -n openagents python agents/summarizer.py

# ... ç­‰ç­‰
```

## ğŸ¨ ä¸‹ä¸€æ­¥

ç°åœ¨ä½ å¯ä»¥ï¼š

1. **éªŒè¯ç³»ç»Ÿå·¥ä½œ** - è¿è¡Œ `./start_all.sh` ç„¶åè®¿é—® http://localhost:8700/studio
2. **æµ‹è¯•åŠŸèƒ½** - åœ¨ Studio çš„ "çµæ„Ÿé‡‡é›†" é¢‘é“å‘é€ä¸€ä¸ª URLï¼Œçœ‹ web-scraper æ˜¯å¦å“åº”
3. **æŸ¥çœ‹æ¶ˆæ¯** - åœ¨ "é€šç”¨é¢‘é“" çœ‹ agents çš„ä¸Šçº¿é€šçŸ¥

## ğŸ’¡ å…³é”®å‘ç°

**agents ä¸æ˜¯"ç”¨ä¸æ¥"ï¼Œè€Œæ˜¯ä½ çœ‹ä¸åˆ°å®ƒä»¬çš„è¾“å‡ºå–µï¼**

å®é™…æƒ…å†µï¼š
- âœ… ç½‘ç»œæœåŠ¡å™¨åœ¨å·¥ä½œï¼ˆæ—¥å¿—æœ‰ HTTP è¯·æ±‚ï¼‰
- âœ… Studio UI å¯ä»¥è®¿é—®
- âœ… Agents å¯ä»¥å¯åŠ¨ï¼ˆscreen ä¼šè¯å­˜åœ¨ï¼‰
- âŒ å‘½ä»¤è¡Œè¾“å‡ºä¸å¯è§ï¼ˆrich åº“çš„æ˜¾ç¤ºé—®é¢˜ï¼‰

è§£å†³æ–¹æ¡ˆï¼š**ä¸è¦ä¾èµ–å‘½ä»¤è¡Œè¾“å‡ºï¼Œä½¿ç”¨ Web UI æˆ–æ—¥å¿—æ–‡ä»¶å–µï¼**

---

ä¸»äººï¼Œç°åœ¨ä½ å¯ä»¥ï¼š
1. è¿è¡Œ `./start_all.sh` å¯åŠ¨æ‰€æœ‰æœåŠ¡
2. è®¿é—® http://localhost:8700/studio
3. åœ¨ Studio UI ä¸­æ„‰å¿«åœ°ä½¿ç”¨ agents å–µ~ ğŸ‰